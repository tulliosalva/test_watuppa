(function(i,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(i=typeof globalThis<"u"?globalThis:i||self,e(i.VueLatestTable={},i.Vue))})(this,function(i,e){"use strict";const F="",w=(a,k)=>{const g=a.__vccOpts||a;for(const[y,p]of k)g[y]=p;return g},N={id:"isSearchable"},T=["placeholder"],b={"aria-hidden":"true"},S={key:0,class:"noData"},D={key:0,value:"-1"},x=["selected"],C={class:"arrows"},L={key:1},_=w({__name:"VueLatestTable",props:{headers:{type:Array,required:!0},data:{type:Array,required:!0},isSearchable:Boolean,searchPlaceholder:String,footer:{type:Object,default:{}},defaultTheme:Boolean,noData:{type:String,default:"No data found"},rowsPerPageText:{type:String,default:"Rows per page"}},setup(a){const k=a,g={allText:"All"},y=[10,25,50,-1],p=e.ref([]),c=e.ref(1),V=e.computed(()=>{const n=r.value*(c.value-1)+1;let t=c.value*r.value;return(t>d.value||t<0)&&(t=d.value),{start:n,end:t}}),d=e.ref(0),f=e.ref(""),o=k.footer||{};let P=e.ref([]),r=e.ref(y[0]);const B=e.computed(()=>d.value%r.value===0?d.value/r.value:Math.trunc(d.value/r.value)+1),E=(n=r.value,t=k.data,s=f==null?void 0:f.value,l=!1)=>{let m=!1;!l&&s&&(t=u(t,s)),p.value=t,d.value=t.length,n===-1&&(n=t.length,m=!0),n&&!isNaN(parseInt(n))?r.value=n:r.value=o.rowsPerPage[0],P.value=t.slice(0,n),m&&(r.value=-1)},u=(n,t)=>(t=String(t).toLowerCase(),n.filter(s=>Object.entries(s).some(l=>String(l[1]).toLowerCase().includes(t))));e.watch(()=>f.value,(n,t)=>{const s=u(k.data,n);E(r.value,s,n,!0)});const h=(n=c.value)=>{c.value=n;const t=(n-1)*r.value,s=isNaN(parseInt(r.value))?1:parseInt(r.value);P.value=p.value.slice(t,t+s)};return e.onBeforeMount(()=>{Array.isArray(o.rowsPerPage)?(o.rowsPerPage=o.rowsPerPage.map(n=>parseInt(n)),o.rowsPerPage=o.rowsPerPage.filter(n=>!isNaN(n))):o.rowsPerPage=[],(!(o!=null&&o.rowsPerPage)||o.rowsPerPage.length===0)&&(o.rowsPerPage=[10,25,50,-1]),r.value=o.rowsPerPage[0],E(r.value),o!=null&&o.allText||(o.allText=g.allText)}),(n,t)=>{var s;return e.openBlock(),e.createElementBlock("div",{id:"vueLatestTable",class:e.normalizeClass(a.defaultTheme?"defaultTheme":"")},[e.createElementVNode("div",N,[e.withDirectives(e.createElementVNode("input",{type:"text",class:"searchBox",placeholder:a.searchPlaceholder?a.searchPlaceholder:"","onUpdate:modelValue":t[0]||(t[0]=l=>f.value=l)},null,8,T),[[e.vModelText,f.value]])]),e.createElementVNode("table",b,[e.createElementVNode("thead",null,[e.createElementVNode("tr",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.headers,l=>(e.openBlock(),e.createElementBlock("th",{key:l.value},e.toDisplayString(l.text),1))),128))])]),e.createElementVNode("tbody",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(P),l=>(e.openBlock(),e.createElementBlock("tr",{key:l.id},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.headers,m=>(e.openBlock(),e.createElementBlock("td",{key:m.value},e.toDisplayString(l[m.value]),1))),128))]))),128))])]),e.unref(P).length===0?(e.openBlock(),e.createElementBlock("div",S,e.toDisplayString(a.noData),1)):e.createCommentVNode("",!0),e.createElementVNode("footer",null,[e.createElementVNode("div",null,[(s=e.unref(o))!=null&&s.rowsPerPage?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(e.toDisplayString(a.rowsPerPageText)+": ",1),e.withDirectives(e.createElementVNode("select",{class:"rowsPerPage","onUpdate:modelValue":t[1]||(t[1]=l=>e.isRef(r)?r.value=l:r=l),onChange:t[2]||(t[2]=l=>E())},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(o).rowsPerPage,(l,m)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:l.id},[l===-1?(e.openBlock(),e.createElementBlock("option",D,e.toDisplayString(e.unref(o).allText),1)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[a.data.length>=l?(e.openBlock(),e.createElementBlock("option",{key:0,selected:m===0},e.toDisplayString(l),9,x)):e.createCommentVNode("",!0)],64))],64))),128))],544),[[e.vModelSelect,e.unref(r)]])],64)):e.createCommentVNode("",!0)]),e.createElementVNode("div",null,[e.createElementVNode("p",null,e.toDisplayString(e.unref(V).start)+" - "+e.toDisplayString(e.unref(V).end)+" of "+e.toDisplayString(d.value),1),e.createElementVNode("p",C,[c.value!==1?(e.openBlock(),e.createElementBlock("label",{key:0,onClick:t[3]||(t[3]=l=>h(c.value-1))},"←")):e.createCommentVNode("",!0),e.unref(B)>1?(e.openBlock(),e.createElementBlock("label",L,[e.withDirectives(e.createElementVNode("select",{"onUpdate:modelValue":t[4]||(t[4]=l=>c.value=l),onChange:t[5]||(t[5]=l=>h())},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B),l=>(e.openBlock(),e.createElementBlock("option",{key:l.id},e.toDisplayString(l),1))),128))],544),[[e.vModelSelect,c.value]])])):e.createCommentVNode("",!0),c.value<e.unref(B)?(e.openBlock(),e.createElementBlock("label",{key:2,onClick:t[6]||(t[6]=l=>h(c.value+1)),class:"ml"},"→")):e.createCommentVNode("",!0)])])])],2)}}},[["__scopeId","data-v-48137b16"]]);i.VueLatestTable=_,Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});
